(window.webpackJsonpspbstu_acquiring=window.webpackJsonpspbstu_acquiring||[]).push([[0],{179:function(e,t,a){e.exports=a(333)},184:function(e,t,a){},185:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=(a(184),a(185),a(28)),m=a(19),i=a(57),s=a(71),u=a(38),E=a(337),p=a(41),d=a(42),g=a(51),f=a(50),h=a(52),b=a(176),y=a(132),v=a(338),w=a(341),k=a(15),I=a(335),j=a(342),P=a(58),x=a(157),O=a(108);function S(){var e=Object(x.a)(["\n  mutation SignInBasic($type: signDataBasic!) {\n    signInBasic(input: $type) {\n      tokenInfo {\n        accessToken,\n      }\n    }\n  }\n\n"]);return S=function(){return e},e}var N=Object(O.b)(S()),L="auth-token",D=new(function(){function e(t){var a=this,n=t.firstName,r=t.lastName;Object(p.a)(this,e),this.login=function(){a.isLogged=!0},this.logout=function(){a.isLogged=!1},this.firstName=n,this.lastName=r,this.isLogged=!1}return Object(d.a)(e,[{key:"fullName",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}}]),e}())({firstName:"John",lastName:"Doe"}),q=function(e){var t=e.form,a=e.onSubmit,n=Object(y.a)(N),l=Object(b.a)(n,2),c=l[0],o=l[1].data;o&&console.log(o);return r.a.createElement(v.a,{onSubmit:function(e,t){return function(a){a.preventDefault(),e.validateFields(function(e,a){e||(D.login(),c({variables:{type:{username:a.username,password:a.password,sessionToken:""}}}).then(t),console.log("Received values of form: ",a))})}}(t,a),className:"login-form"},r.a.createElement(v.a.Item,null,t.getFieldDecorator("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Phone Number or Email"}))),r.a.createElement(v.a.Item,null,t.getFieldDecorator("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(I.a,{orientation:"left"},"Are you not a bot?"),r.a.createElement(v.a.Item,null,r.a.createElement(s.a,{gutter:16,type:"flex",justify:"space-between",align:"middle"},r.a.createElement(u.a,{sm:12,xs:24},r.a.createElement("img",{src:"img/captcha.jpg",style:{maxWidth:"100%"},alt:"captcha"})),r.a.createElement(u.a,{sm:12,xs:24},t.getFieldDecorator("capthca",{rules:[{required:!0,message:"Please input text from image!"}]})(r.a.createElement(w.a,{placeholder:"Text on Image"})),r.a.createElement("div",null,r.a.createElement(m.b,{to:""},"Reload Image"),r.a.createElement(I.a,{type:"vertical"}),r.a.createElement(m.b,{to:""},"Play Sound"))))),r.a.createElement(v.a.Item,null,r.a.createElement(s.a,{gutter:16,type:"flex",justify:"space-between"},r.a.createElement(u.a,{sm:12,xs:24},t.getFieldDecorator("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(j.a,null,"Remember me")),r.a.createElement(P.a,{type:"primary",htmlType:"submit",block:!0,className:"login-form-button"},"Log in")),r.a.createElement(u.a,{sm:12,xs:24,style:{lineHeight:1.6,marginTop:10}},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/remember"},"Forgot Password?")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/register"},"Register")),r.a.createElement("div",null,r.a.createElement("a",{href:"http://lk.spbstu.ru/"},"Login with SPbPU ID"))))))},F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e)))._storeToken=function(e){localStorage.setItem(L,e)},a.state={redirect:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement(q,{form:this.props.form,onSubmit:function(t){console.log(t),e.setState({redirect:!0})}})}}]),t}(r.a.Component),T=v.a.create({name:"normal_login"})(F),H=a(336),R=a(343),B=a(340),C=r.a.createElement(R.a,null,r.a.createElement("div",{style:{padding:"5px 12px"}},D.fullName),r.a.createElement(R.a.Divider,null),r.a.createElement(R.a.Item,{key:"0"},r.a.createElement(m.b,{to:"/settings"},"Settings")),r.a.createElement(R.a.Item,{key:"1"},r.a.createElement(m.b,{to:"/logout"},"Logout"))),_=function(e){return D.isLogged?r.a.createElement(B.a,{overlay:C,placement:"bottomRight"},r.a.createElement(P.a,{size:"large",shape:"circle",icon:"user"})):[r.a.createElement(I.a,{key:"divider",type:"vertical"}),r.a.createElement(m.b,{key:"link",to:"/login"},"Login")]},M=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).clickHandler=function(){a.setState({redirect:!0})},a.state={redirect:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(i.a,{push:!0,to:"/"}):r.a.createElement("div",{style:{cursor:"pointer"},onClick:this.clickHandler},this.props.children)}}]),t}(n.Component),A=H.a.Sider,U=[r.a.createElement(R.a.Item,{key:"1"},r.a.createElement(m.b,{to:"/payment"},r.a.createElement(k.a,{type:"credit-card"})," Payment")),r.a.createElement(R.a.Item,{key:"2"},r.a.createElement(m.b,{to:"/inquiries"},r.a.createElement(k.a,{type:"file"})," Inquiries")),r.a.createElement(R.a.Item,{key:"3"},r.a.createElement(m.b,{to:"/history"},r.a.createElement(k.a,{type:"calendar"})," History"))],J=[r.a.createElement(R.a.Item,{key:"1"},r.a.createElement(m.b,{to:"/payment"},r.a.createElement(k.a,{type:"credit-card"})," Payment")),r.a.createElement(R.a.Divider,{key:"-"}),r.a.createElement(R.a.Item,{key:"2"},r.a.createElement(m.b,{to:"/login"},r.a.createElement(k.a,{type:"user"})," Login"))],W=function(){return r.a.createElement(A,{style:{background:"#FFF"}},r.a.createElement(R.a,{mode:"inline",style:{height:"100%"}},D.isLogged&&U||J))},$=H.a.Header,z=H.a.Footer,K=H.a.Content;var V=function(e){var t=e.showMenu,a=void 0===t||t,n=e.children;return r.a.createElement(H.a,{style:{minHeight:"100vh"}},r.a.createElement($,null,r.a.createElement(s.a,{type:"flex",justify:"space-between"},r.a.createElement(u.a,{md:6,style:{color:"white"}},r.a.createElement(M,null,"NoBody Inc")),r.a.createElement(u.a,{md:6,lg:5},r.a.createElement(R.a,{mode:"horizontal",align:"right",defaultSelectedKeys:["en"],style:{lineHeight:"64px",padding:"0 12px"}},r.a.createElement(R.a.Item,{key:"en"},"En"),r.a.createElement(R.a.Item,{key:"ru"},"Ru"),r.a.createElement(_,null))))),r.a.createElement(H.a,null,a&&r.a.createElement(W,null),r.a.createElement(K,{style:{minHeight:"calc(100vh - 164px)",padding:36}},n)),r.a.createElement(z,{style:{background:"#d6d9de"}},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:6},"\xa9 2019 Nobody Inc"))))},Y=function(){return r.a.createElement(V,{showMenu:!1},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:{span:16,offset:4},lg:{span:8,offset:8}},r.a.createElement(E.a,{title:"Login"},r.a.createElement(T,null)))))},G=function(){return r.a.createElement(V,null,r.a.createElement("h1",null,"Settings"))},Q=a(339),X=Q.a.Title,Z=function(){return D.logout(),r.a.createElement(V,{showMenu:!1},r.a.createElement(X,null,"Logout"),r.a.createElement("p",null,"You were logged out"))},ee=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"forgot-password-form"},r.a.createElement(v.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Phone Number or Email"}))),r.a.createElement(v.a.Item,null,r.a.createElement(s.a,{gutter:16,type:"flex",justify:"space-between"},r.a.createElement(u.a,{sm:12,xs:24},r.a.createElement(P.a,{type:"primary",htmlType:"submit",block:!0,className:"login-form-button"},"Remember Password")),r.a.createElement(u.a,{sm:12,xs:24,style:{lineHeight:1.6}},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/"},"Login")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/register"},"Register")),r.a.createElement("div",null,r.a.createElement("a",{href:"http://lk.spbstu.ru/"},"Login with SPbPU ID"))))))}}]),t}(r.a.Component),te=v.a.create({name:"normal_login"})(ee),ae=function(){return r.a.createElement(V,{showMenu:!1},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:{span:16,offset:4},lg:{span:8,offset:8}},r.a.createElement(E.a,{title:"Remember Password"},r.a.createElement(te,null)))))},ne=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(v.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Phone Number or Email"}))),r.a.createElement(v.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(w.a,{prefix:r.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(v.a.Item,null,r.a.createElement(s.a,{gutter:16,type:"flex",justify:"space-between"},r.a.createElement(u.a,{sm:12,xs:24},r.a.createElement(P.a,{type:"primary",htmlType:"submit",block:!0,className:"login-form-button"},"Register")),r.a.createElement(u.a,{sm:12,xs:24,style:{lineHeight:1.6}},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement("div",null,r.a.createElement("a",{href:"http://lk.spbstu.ru/"},"Login with SPbPU ID"))))))}}]),t}(r.a.Component),re=v.a.create({name:"normal_login"})(ne),le=function(){return r.a.createElement(V,{showMenu:!1},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:{span:16,offset:4},lg:{span:8,offset:8}},r.a.createElement(E.a,{title:"Login"},r.a.createElement(re,null)))))},ce=Q.a.Title,oe=function(){return r.a.createElement(V,null,r.a.createElement(ce,null,"SPbPU Acquiring Service"),r.a.createElement("p",null,"Some description about service will be here"))},me=Q.a.Title,ie=function(){return r.a.createElement(V,null,r.a.createElement(me,null,"Inquiries"),r.a.createElement("p",null,"Inquiries Page will be here"))},se=Q.a.Title,ue=function(){return r.a.createElement(V,null,r.a.createElement(se,null,"History"),r.a.createElement("p",null,"History Page will be here"))},Ee=Q.a.Title,pe=function(){return r.a.createElement(V,null,r.a.createElement(Ee,null,"Payment"),r.a.createElement("p",null,"Payment Form will be here"))},de=new O.a({uri:"https://po.meow.spbstu.ru/api/v1/query"});var ge=function(){return r.a.createElement(o.a,{client:de},r.a.createElement(m.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/remember"},r.a.createElement(ae,null)),r.a.createElement(i.b,{path:"/register"},r.a.createElement(le,null)),r.a.createElement(i.b,{path:"/settings"},r.a.createElement(G,null)),r.a.createElement(i.b,{path:"/logout"},r.a.createElement(Z,null)),r.a.createElement(i.b,{path:"/login"},r.a.createElement(Y,null)),r.a.createElement(i.b,{path:"/inquiries"},r.a.createElement(ie,null)),r.a.createElement(i.b,{path:"/history"},r.a.createElement(ue,null)),r.a.createElement(i.b,{path:"/payment"},r.a.createElement(pe,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(oe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[179,1,2]]]);
//# sourceMappingURL=main.1f49dd86.chunk.js.map